<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Critério 4.1.3</title>
</head>

<body>
    <p><center> <strong>Critério 4.1.3</strong></center></p>
    <hr>

    <h2>Codificação e Marcação Semântica</h2>

    <h3>12. Mensagens de status: Todas as mensagens de status são determinadas programaticamente de modo que não seja necessário que os usuários de tecnologia assistiva tenham que dar foco no elemento.</h3>

	<p>O critério <strong>4.1.3</strong> da <abbr title="Web Content Accessibility Guidelines">WCAG</abbr> determina que todas as mensagens de status em uma página web sejam identificadas programaticamente, ou seja, as mensagens devem ser anunciadas de forma automática pelas tecnologias assistivas, como leitores de tela, sem a necessidade de o usuário dar foco no elemento. Isso é crucial para garantir que as mensagens sejam acessíveis e compreensíveis para os usuários com deficiências.</p>

    <p>Quando uma mensagem de status é gerada, como uma notificação de sucesso ou erro, ela deve ser inserida em um elemento com atributos adequados para garantir que as tecnologias assistivas possam detectá-la automaticamente. O uso de ARIA (Accessible Rich Internet Applications) é essencial nesse contexto. A recomendação é usar atributos como <code>aria-live</code> para indicar que a mensagem deve ser anunciada sem a necessidade de o usuário interagir diretamente com ela.</p>

	<p>O exemplo abaixo simula um formulário simples apenas com o campo do e-mail. Ao clicar no botão "Simular Sucesso" é apresentado o comportamento da página no caso de sucesso e ao clicar em "Simular Erro" é apresentado o comportamento da página no caso de erro.</p>

    <h4>Explicação do Exemplo:</h4>

    <p>O exemplo abaixo utiliza o atributo <code>aria-live</code> para garantir que as mensagens de status sejam anunciadas pelas tecnologias assistivas assim que ocorram, sem que o usuário precise interagir diretamente com o elemento. O atributo <code>aria-live="polite"</code> é usado para mensagens de sucesso, e <code>aria-live="assertive"</code> é usado para mensagens de erro.</p>

	<p>No exemplo abaixo o código JavaScript simula a exibição das mensagens de status de sucesso ou erro, mudando o estilo de exibição dos elementos correspondentes e permitindo que o leitor de tela anuncie a mensagem sem a necessidade de interação adicional do usuário.</ul>
	
    <!-- início do exemplo -->
	<style>
		.content-wrapper {
			border: 2px solid #ccc;
			padding: 20px;
			border-radius: 8px;
			max-width: 450px;
			margin: 0 auto;
		}
		
		form {
			background-color: #fff;
			padding: 20px;
			border-radius: 8px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			width: 100%;
			max-width: 400px;
		}

		label {
			display: block;
			font-weight: bold;
			margin-bottom: 5px;
			color: #333;
		}

		input[type="email"]{
			width: 100%;
			padding: 10px;
			border: 1px solid #ddd;
			border-radius: 4px;
			font-size: 14px;
			box-sizing: border-box;
		}

		input[type="email"]:focus{
			border-color: #4CAF50;
			outline: none;
		}

		button {
			background-color: #4CAF50;
			color: white;
			border: none;
			padding: 12px 20px;
			border-radius: 4px;
			cursor: pointer;
			font-size: 16px;
			width: 100%;
			margin-top: 10px;
		}

		button:hover {
			background-color: #45a049;
		}

		#mensagemErro {
			display: none;
			color: red;
   		}

		#mensagemStatus{
			display:none;
			color: green;
		}
	</style>

	<div class="content-wrapper">
		<form action="/enviar" method="POST" id="formulario">
			<label for="email">Email:</label>
			<input type="email" id="email" name="email" required>
			<br><br>
	
			<button type="submit">Enviar</button>
		</form>
	
		<div id="mensagemStatus" role="status" aria-live="polite" aria-atomic="true">
			Formulário enviado com sucesso!
		</div>
		
		<div id="mensagemErro" role="status" aria-live="assertive" aria-atomic="true">
			Ocorreu um erro. Por favor, tente novamente.
		</div>
	
		<p><button onclick="mostrarMensagem(true)">Simular Sucesso</button></p>
		<p><button onclick="mostrarMensagem(false)">Simular Erro</button></p>
	
		<script>
			function mostrarMensagem(sucesso) {
				const mensagemStatus = document.getElementById('mensagemStatus');
				const mensagemErro = document.getElementById('mensagemErro');
				
				if (sucesso) {
					mensagemStatus.style.display = 'block';
					mensagemErro.style.display = 'none';
				} else {
					mensagemErro.style.display = 'block';
					mensagemStatus.style.display = 'none';
				}
			}
		</script>
	</div>
    <!-- fim do exemplo -->
</body>